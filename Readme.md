# AWS DynamoDB

## SQL与NoSQL的区别

### 概念

- SQL (Structured Query Language) 数据库，指关系型数据库。主要代表：SQL Server，Oracle，MySQL(开源)，PostgreSQL(开源)。
- NoSQL（Not Only SQL）泛指非关系型数据库。主要代表：MongoDB，Redis，CouchDB。

### SQL

> 关系型数据库把所有的数据都通过行和列的二元表现形式表示出来。

**优势：**

1. 保持数据的一致性（事务处理）
2. 由于以标准化为前提，数据更新的开销很小（相同的字段基本上都只有一处）
3. 可以进行Join等复杂查询

> 其中能够保持数据的一致性是关系型数据库的最大优势。

**劣势：**

不擅长做以下处理:

1. 大量数据的写入处理
2. 为有数据更新的表做索引或表结构（schema）变更
3. 字段不固定时应用
4. 对简单查询需要快速返回结果的处理

### NoSQL

关系型数据库应用广泛，能进行事务处理和表连接等复杂查询。相对地，NoSQL数据库只应用在特定领域，基本上不进行复杂的处理，但它恰恰弥补了之前所列举的关系型数据库的不足之处。

**优点:**

易于数据的分散, 各个数据之间存在关联是关系型数据库得名的主要原因，为了进行join处理，关系型数据库不得不把数据存储在同一个服务器内，这不利于数据的分散，这也是关系型数据库并不擅长大数据量的写入处理的原因。相反NoSQL数据库原本就不支持Join处理，各个数据都是独立设计的，很容易把数据分散在多个服务器上，故减少了每个服务器上的数据量，即使要处理大量数据的写入，也变得更加容易，数据的读入操作当然也同样容易。

### 主要差异

1. 类型
    - SQL数据库主要称为关系数据库（RDBMS）;
    - 而NoSQL数据库主要称为非关系数据库或分布式数据库。

2. 语言

    - SQL数据库定义和操作基于数据的结构化查询语言（SQL）。从侧面看这种语言是非常强大的。SQL是最通用和最广泛使用的选项之一，使其成为安全的选择，尤其适用于复杂的查询。但从另一方面来说，它可能是限制性的。SQL要求您在使用之前使用预定义模式来确定数据的结构。此外，您的所有数据都必须遵循相同的结构。这可能需要大量的前期准备，这意味着结构的变化既困难又对整个系统造成破坏。

    - NoSQL数据库具有非结构化数据的动态模式。数据以多种方式存储，这意味着它可以是面向文档，面向列，基于图形或组织为KeyValue存储。这种灵活性意味着可以在没有首先定义结构的情况下创建文档。每个文档也可以有自己独特的结构。语法因数据库而异，您可以随时添加字段。

3. 可伸缩性

    - SQL数据库都是可垂直扩展的，可以通过增加RAM，CPU或SSD等功能来增加单个服务器的负载。
    - NoSQL数据库可以横向扩展，可以通过分片或在NoSQL数据库中添加更多服务器来处理更多流量。它类似于在同一建筑物中添加更多楼层，而不是在附近增加更多建筑物。因此NoSQL最终可以变得更大，更强大，使这些数据库成为大型或不断变化的数据集的首选。

4. 结构

    - SQL数据库是基于表的
    - NoSQL数据库是键值对，基于文档的，图形数据库或宽列存储。

    > 这使得关系SQL数据库成为需要多行事务的应用程序（如会计系统）或为关系结构构建的遗留系统的更好选择。

5. 遵循的属性

    - SQL数据库遵循ACID属性（原子性，一致性，隔离性和持久性）
    - NoSQL数据库遵循Brewers CAP定理（一致性，可用性和分区容差）。

6. 支持

    - 来自其供应商的所有SQL数据库都提供了很好的支持。此外，还有很多独立咨询可以帮助您使用SQL数据库进行大规模部署，
    - 但对于某些NoSQL数据库，您仍然需要依赖社区支持，并且只有有限的外部专家可用于设置和部署大规模NoSQL部署。

### 总结

| SQL                                    | NoSQL                        |
| -------------------------------------- | ---------------------------- |
| 关系数据库管理系统（RDBMS）            | 非关系或分布式数据库系统。   |
| 这些数据库具有固定或静态或预定义的架构 | 他们有动态架构               |
| 这些数据库不适用于分层数据存储         | 这些数据库最适合分层数据存。 |
| 这些数据库最适合复杂查询               | 这些数据库不太适合复杂的查询 |
| Verticlly可扩展                        | Horizontally可扩展           |

## Amazon DynamoDB

### 概念

Amazon DynamoDB 是一种完全托管的 NoSQL 数据库服务。

**优势：**

- 提供快速且可预测的性能
- 能够实现无缝扩展
- 无需担心硬件预置、设置和配置、复制、软件修补或集群扩展等问题
- 提供静态加密
- 创建数据库表来存储和检索任意量级的数据
- 提供了按需备份功能
- 提供资源使用和性能指标监控功能
